# 正向测试用例
positive_cases:
  - name: "text_message"
    description: "发送普通文本消息"
    request:
      method: POST
      endpoint: /open-apis/im/v1/messages
      params:
        receive_id_type: open_id
      json:
        receive_id: "{{test_user.open_id}}"
        msg_type: text
        content:
          text: "普通文本消息测试"
    expect:
      status_code: 200
      schema:
        code: 0
        data:
          message_id: {type: string}
        msg: "success"

# 异常测试用例
negative_cases:
  - name: "invalid_message_type"
    description: "发送无效消息类型"
    request:
      method: POST
      endpoint: /open-apis/im/v1/messages
      params:
        receive_id_type: open_id
      json:
        receive_id: "{{test_user.open_id}}"
        msg_type: invalid_type
        content:
          text: "不应该成功的消息"
    expect:
      status_code: 400
      error_code: 230001