{"name": "test_interactive_messages[positive_åŸºç¡€å¡ç‰‡æ¶ˆæ¯æµ‹è¯•0]", "status": "failed", "statusDetails": {"message": "AssertionError: çŠ¶æ€ç ä¸åŒ¹é…ï¼ŒæœŸæœ› 200ï¼Œå®é™… 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code", "trace": "client = <tests.client.client.FeishuClient object at 0x00000170661F2E40>\nprepared_test_case = {'context': {'access_token': 't-g10475jtDD46FY64TKRIUEUFPVLVAXRM7XTOM6P5', 'open_id': 'ou_7d8a6e6df7621556ce0d21922b67...ion': 'Bearer t-g10475jtDD46FY64TKRIUEUFPVLVAXRM7XTOM6P5', 'Content-Type': 'application/json'}, 'method': 'POST', ...}}\n\n    def test_interactive_messages(client, prepared_test_case):\n>       _generic_message_test(feishu_client, prepared_test_case)\n\ntests\\api\\message\\test_message.py:59: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nclient = <tests.client.client.FeishuClient object at 0x00000170661F2E40>\nprepared_test_case = {'context': {'access_token': 't-g10475jtDD46FY64TKRIUEUFPVLVAXRM7XTOM6P5', 'open_id': 'ou_7d8a6e6df7621556ce0d21922b67...ion': 'Bearer t-g10475jtDD46FY64TKRIUEUFPVLVAXRM7XTOM6P5', 'Content-Type': 'application/json'}, 'method': 'POST', ...}}\n\n    def _generic_message_test(client, prepared_test_case):\n        \"\"\"é€šç”¨æ¶ˆæ¯å‘é€æµ‹è¯•\"\"\"\n        with allure.step(\"Step 1: å‡†å¤‡æµ‹è¯•ç”¨ä¾‹\"):\n            test_data = prepared_test_case\n            request_data = test_data[\"request\"]\n    \n        with allure.step(\"Step 2: å‘é€è¯·æ±‚\"):\n            # å‘é€è¯·æ±‚\n            response = client.request(\n                method=request_data[\"method\"],\n                endpoint=request_data[\"endpoint\"],\n                params=request_data.get(\"query_params\"),\n                headers=request_data.get(\"headers\"),\n                json=request_data.get(\"body\")\n            )\n    \n        # å°†å“åº”ä¿å­˜åˆ°æµ‹è¯•ä¸Šä¸‹æ–‡ä¸­ï¼Œä¾›teardownä½¿ç”¨\n        pytest.api_response = response\n    \n        with allure.step(\"Step 3: éªŒè¯å“åº”\"):\n            # éªŒè¯å“åº”\n            expected = test_data[\"expected\"]\n    \n            # 1. éªŒè¯çŠ¶æ€ç \n>           assert response.status_code == expected[\"status_code\"], \\\n                f\"çŠ¶æ€ç ä¸åŒ¹é…ï¼ŒæœŸæœ› {expected['status_code']}ï¼Œå®é™… {response.status_code}\"\nE           AssertionError: çŠ¶æ€ç ä¸åŒ¹é…ï¼ŒæœŸæœ› 200ï¼Œå®é™… 400\nE           assert 400 == 200\nE            +  where 400 = <Response [400]>.status_code\n\ntests\\api\\message\\test_message.py:88: AssertionError"}, "steps": [{"name": "Step 1: å‡†å¤‡æµ‹è¯•ç”¨ä¾‹", "status": "passed", "start": 1751718305653, "stop": 1751718305653}, {"name": "Step 2: å‘é€è¯·æ±‚", "status": "passed", "start": 1751718305653, "stop": 1751718305944}, {"name": "Step 3: éªŒè¯å“åº”", "status": "failed", "statusDetails": {"message": "AssertionError: çŠ¶æ€ç ä¸åŒ¹é…ï¼ŒæœŸæœ› 200ï¼Œå®é™… 400\nassert 400 == 200\n +  where 400 = <Response [400]>.status_code\n", "trace": "  File \"D:\\FeishuAPITest-main\\FeishuAPITest-main\\tests\\api\\message\\test_message.py\", line 88, in _generic_message_test\n    assert response.status_code == expected[\"status_code\"], \\\n        f\"çŠ¶æ€ç ä¸åŒ¹é…ï¼ŒæœŸæœ› {expected['status_code']}ï¼Œå®é™… {response.status_code}\"\n"}, "start": 1751718305944, "stop": 1751718305944}], "attachments": [{"name": "stdout", "source": "b41455db-3b82-4553-8650-337bea91a168-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "prepared_test_case", "value": "TestCaseModel(name='åŸºç¡€å¡ç‰‡æ¶ˆæ¯æµ‹è¯•', description='æµ‹è¯•å‘é€å¡ç‰‡æ¶ˆæ¯', category='positive', request=RequestModel(method='POST', endpoint='/open-apis/im/v1/messages', query_params={'receive_id_type': 'open_id'}, headers={'Content-Type': 'application/json', 'Authorization': 'Bearer $access_token$'}, body={'receive_id': '$open_id$', 'msg_type': 'interactive', 'content_json': {'schema': '2.0', 'config': {'update_multi': True, 'style': {'text_size': {'normal_v2': {'default': 'normal', 'pc': 'normal', 'mobile': 'heading'}}}}, 'body': {'direction': 'vertical', 'padding': '12px 12px 12px 12px', 'elements': [{'tag': 'markdown', 'content': 'æ»‡æ± ï¼Œäº¦ç§°æ˜†æ˜æ¹–ã€æ˜†æ˜æ± ã€æ»‡å—æ³½ã€æ»‡æµ·ã€‚åœ¨äº‘å—çœæ˜†æ˜å¸‚è¥¿å—ï¼Œæœ‰ç›˜é¾™æ±Ÿç­‰æ²³æµæ³¨å…¥ï¼Œæ¹–é¢æµ·æ‹”1886ç±³ï¼Œé¢ç§¯330å¹³æ–¹åƒç±³ï¼Œäº‘å—çœæœ€å¤§çš„æ·¡æ°´æ¹–ï¼Œæœ‰é«˜åŸæ˜ç ä¹‹ç§°ã€‚å¹³å‡æ°´æ·±5ç±³ï¼Œæœ€æ·±11ç±³ã€‚æ¹–æ°´åœ¨è¥¿å—æµ·å£æ´©å‡ºï¼Œç§°è³è‚å·ï¼Œä¸ºé•¿æ±Ÿä¸Šæ¸¸å¹²æµé‡‘æ²™æ±Ÿæ”¯æµæ™®æ¸¡æ²³ä¸Šæºã€‚', 'text_align': 'left', 'text_size': 'normal_v2', 'margin': '0px 0px 0px 0px'}, {'tag': 'button', 'text': {'tag': 'plain_text', 'content': 'ğŸŒæ›´å¤šæ™¯ç‚¹ä»‹ç»'}, 'type': 'default', 'width': 'default', 'size': 'medium', 'behaviors': [{'type': 'open_url', 'default_url': 'https://baike.baidu.com/item/%E6%BB%87%E6%B1%A0/180932', 'pc_url': '', 'ios_url': '', 'android_url': ''}], 'margin': '0px 0px 0px 0px'}]}, 'header': {'title': {'tag': 'plain_text', 'content': 'ä»Šæ—¥æ—…æ¸¸æ¨è(æµ‹è¯•å¡ç‰‡)'}, 'subtitle': {'tag': 'plain_text', 'content': ''}, 'template': 'blue', 'padding': '12px 12px 12px 12px'}}, 'uuid': '$random_uuid$'}), expected=ExpectedModel(status_code=200, headers={'Content-Type': 'application/json'}, schema='message_response_schema', body={'code': 0, 'msg': 'success', 'data': {'msg_type': 'text', 'deleted': False, 'updated': False, 'sender.id_type': 'app_id', 'body.content': {'@contains': 'test content'}}}), setup=[{'action': 'get_tenant_access_token', 'save_to': 'access_token'}, {'action': 'get_open_id', 'save_to': 'open_id'}, {'action': 'generate_uuid', 'save_to': 'random_uuid'}], teardown=[{'action': 'delete_message', 'params': {'message_id': '$response.data.message_id$'}}])"}], "start": 1751718305653, "stop": 1751718305945, "uuid": "053cfbb0-f6e3-4424-9ffc-8c398d2aeac0", "historyId": "4f89a814640acf05605175531a836fc1", "testCaseId": "012a08905007012819245af4b1d4cdde", "fullName": "tests.api.message.test_message#test_interactive_messages", "labels": [{"name": "parentSuite", "value": "tests.api.message"}, {"name": "suite", "value": "test_message"}, {"name": "host", "value": "OYY"}, {"name": "thread", "value": "2344-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.api.message.test_message"}]}