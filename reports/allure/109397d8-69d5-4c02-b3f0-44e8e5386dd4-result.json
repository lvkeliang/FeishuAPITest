{"name": "test_interactive_messages[positive_基础卡片消息测试3]", "status": "broken", "statusDetails": {"message": "KeyError: 'tenant_access_token'", "trace": "request = <SubRequest 'prepared_test_case' for <Function test_interactive_messages[positive_基础卡片消息测试3]>>\n\n    @pytest.fixture\n    def prepared_test_case(request):\n        \"\"\"准备测试用例，执行setup并替换变量\"\"\"\n        loader = test_case_loader\n        test_case = request.param  # 从参数化获取测试用例\n    \n        # 1. 执行setup操作\n        if test_case.setup:\n>           setup_context = loader.execute_setup(test_case.setup)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\api\\message\\test_message.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests\\test_data\\case_loader.py:97: in execute_setup\n    context[action[\"save_to\"]] = feishu_client.tenant_access_token\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\client\\client.py:53: in tenant_access_token\n    self.refresh_token()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.client.client.FeishuClient object at 0x0000023A761B2E40>\n\n    def refresh_token(self):\n        \"\"\"刷新access token\"\"\"\n        url = f\"{self.base_url}/open-apis/auth/v3/tenant_access_token/internal\"\n        payload = {\n            \"app_id\": config.env_config[\"feishu\"][\"app_id\"],\n            \"app_secret\": config.env_config[\"feishu\"][\"app_secret\"]\n        }\n        response = requests.post(\n            url,\n            json=payload,\n            timeout=self.timeout\n        )\n        response.raise_for_status()\n>       self._tenant_access_token = response.json()[\"tenant_access_token\"]\n                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       KeyError: 'tenant_access_token'\n\ntests\\client\\client.py:69: KeyError"}, "parameters": [{"name": "prepared_test_case", "value": "TestCaseModel(name='基础卡片消息测试3', description='测试发送卡片消息3', category='positive', request=RequestModel(method='POST', endpoint='/open-apis/im/v1/messages', query_params={'receive_id_type': 'open_id'}, headers={'Content-Type': 'application/json', 'Authorization': 'Bearer $access_token$'}, body={'receive_id': '$open_id$', 'msg_type': 'interactive', 'content': '$json_card$', 'uuid': '$random_uuid$'}), expected=ExpectedModel(status_code=200, headers={'Content-Type': 'application/json'}, schema='message_response_schema', body={'code': 0, 'msg': 'success', 'data': {'msg_type': 'text', 'deleted': False, 'updated': False, 'sender.id_type': 'app_id', 'body.content': {'@contains': 'test content'}}}), setup=[{'action': 'get_tenant_access_token', 'save_to': 'access_token'}, {'action': 'get_open_id', 'save_to': 'open_id'}, {'action': 'generate_uuid', 'save_to': 'random_uuid'}, {'action': 'load_and_dump_json', 'save_to': 'json_card', 'json_path': 'tests\\\\test_data\\\\message\\\\interactive\\\\cards\\\\test_card2.json'}], teardown=[{'action': 'delete_message', 'params': {'message_id': '$response.data.message_id$'}}])"}], "start": 1751715844798, "stop": 1751715844798, "uuid": "bc038e94-e208-496d-bd8f-811ada271d58", "historyId": "34aabff3bd3f105302d7c60d14783a84", "testCaseId": "012a08905007012819245af4b1d4cdde", "fullName": "tests.api.message.test_message#test_interactive_messages", "labels": [{"name": "parentSuite", "value": "tests.api.message"}, {"name": "suite", "value": "test_message"}, {"name": "host", "value": "OYY"}, {"name": "thread", "value": "7260-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.api.message.test_message"}]}